---
layout: post
category: 云计算
tags: 容器 虚拟化
description: docker使用笔记。
---

### 安装docker

docker需要使用linux3.8版本的内核，为了方便起见，在一台ubuntu（1304）机器上安装docker。

	sudo apt-get update
	sudo apt-get install linux-image-extra-`uname -r`

	sudo sh -c "wget -qO- https://get.docker.io/gpg | apt-key add -"

	sudo sh -c "echo deb http://get.docker.io/ubuntu docker main > /etc/apt/sources.list.d/docker.list"

	sudo apt-get update

	sudo apt-get install lxc-docker
	
###### 相关软件包信息

	paas@ubuntu:~$ sudo apt-get install lxc-docker
	Reading package lists... Done
	Building dependency tree
	Reading state information... Done
	The following extra packages will be installed:
	  aufs-tools bridge-utils cgroup-lite cloud-utils debootstrap distro-info distro-info-data dnsmasq-base euca2ools
	  gdisk libapparmor1 libcap2-bin libicu48 liblxc0 libnetfilter-conntrack3 libpam-cap libseccomp1 libyaml-0-2 lxc
	  lxc-docker-0.6.4 lxc-templates python-boto python-crypto python-distro-info python-m2crypto python-paramiko
	  python-yaml python3-lxc
	Suggested packages:
	  shunit2 libcap-dev btrfs-tools lvm2 lxctl qemu-user-static python-crypto-dbg python-crypto-doc
	The following NEW packages will be installed:
	  aufs-tools bridge-utils cgroup-lite cloud-utils debootstrap distro-info distro-info-data dnsmasq-base euca2ools
	  gdisk libapparmor1 libcap2-bin libicu48 liblxc0 libnetfilter-conntrack3 libpam-cap libseccomp1 libyaml-0-2 lxc
	  lxc-docker lxc-docker-0.6.4 lxc-templates python-boto python-crypto python-distro-info python-m2crypto
	  python-paramiko python-yaml python3-lxc
	0 upgraded, 29 newly installed, 0 to remove and 92 not upgraded.
	Need to get 9,649 kB of archives.
	After this operation, 46.6 MB of additional disk space will be used.
	Do you want to continue [Y/n]? y
	
安装成功后，主机的以下方面发生了变化。

#### 目录

出现了以下目录

	/var/cache/lxc	用于缓存lxc容器的rootfs
	/var/lib/lxc	用于lxc存储容器
	/var/lib/docker	用于存储docker的rootfs

##### /var/lib/docker

repositories文件用于记录rootfs的版本。初始内容为：

	{"Repositories":{}}

graph目录用于保存rootfs，初始为空。

containers目录用于保存容器相关文件，，初始为空。

volumes目录用途目前不清楚。

#### 网络配置

ifconfig

	paas@localhost:~$ ifconfig
	docker0   Link encap:Ethernet  HWaddr 00:00:00:00:00:00
	          inet addr:172.17.42.1  Bcast:0.0.0.0  Mask:255.255.0.0
	          inet6 addr: fe80::4bf:59ff:fe74:71cc/64 Scope:Link
	          UP BROADCAST MULTICAST  MTU:1500  Metric:1
	          RX packets:34 errors:0 dropped:0 overruns:0 frame:0
	          TX packets:32 errors:0 dropped:0 overruns:0 carrier:0
	          collisions:0 txqueuelen:0
	          RX bytes:2496 (2.4 KB)  TX bytes:2792 (2.7 KB)

	eth0      Link encap:Ethernet  HWaddr 00:0c:29:89:8e:ee
	          inet addr:172.16.202.130  Bcast:172.16.202.255  Mask:255.255.255.0
	          inet6 addr: fe80::20c:29ff:fe89:8eee/64 Scope:Link
	          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
	          RX packets:6379 errors:0 dropped:0 overruns:0 frame:0
	          TX packets:4039 errors:0 dropped:0 overruns:0 carrier:0
	          collisions:0 txqueuelen:1000
	          RX bytes:551292 (551.2 KB)  TX bytes:610253 (610.2 KB)

	lo        Link encap:Local Loopback
	          inet addr:127.0.0.1  Mask:255.0.0.0
	          inet6 addr: ::1/128 Scope:Host
	          UP LOOPBACK RUNNING  MTU:65536  Metric:1
	          RX packets:16 errors:0 dropped:0 overruns:0 frame:0
	          TX packets:16 errors:0 dropped:0 overruns:0 carrier:0
	          collisions:0 txqueuelen:0
	          RX bytes:1184 (1.1 KB)  TX bytes:1184 (1.1 KB)

	lxcbr0    Link encap:Ethernet  HWaddr 76:78:19:69:3f:4e
	          inet addr:10.0.3.1  Bcast:10.0.3.255  Mask:255.255.255.0
	          inet6 addr: fe80::7478:19ff:fe69:3f4e/64 Scope:Link
	          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
	          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
	          TX packets:6 errors:0 dropped:0 overruns:0 carrier:0
	          collisions:0 txqueuelen:0
	          RX bytes:0 (0.0 B)  TX bytes:468 (468.0 B)

	可以看到多了两个网桥设备docker0、lxcbr0，其中lxcbr0是安装lxc后创建的网桥，docker0是docker创建的网桥。

执行route查看路由情况

	paas@localhost:~$ route
	Kernel IP routing table
	Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
	default         172.16.202.2    0.0.0.0         UG    0      0        0 eth0
	10.0.3.0        *               255.255.255.0   U     0      0        0 lxcbr0
	172.16.202.0    *               255.255.255.0   U     0      0        0 eth0
	172.17.0.0      *               255.255.0.0     U     0      0        0 docker0
	
执行brctl show查看网桥情况

	paas@localhost:~$ brctl show
	bridge name	bridge id		STP enabled	interfaces
	docker0		8000.000000000000	no
	lxcbr0		8000.000000000000	no
	
#### 服务进程

通过ps命令可以看到多了以下进程

##### dnsmasq进程

	dnsmasq -u lxc-dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/lxc/dnsmasq.pid --conf-file= --listen-address10.0.3.1 --dhcp-range10.0.3.2,10.0.3.254 --dhcp-lease-max=253 --dhcp-no-override --except-interface=lo --interface=lxcbr0

这个进程是用来做本机的dhcp服务器，为容器提供dhcp服务的。

##### docker进程

	/bin/sh -e -c /usr/bin/docker -d /bin/sh
	/usr/bin/docker -d

#### cgroup

/sys/fs/cgroup目录下的各个子目录中都出现了一个lxc目录，用于后续对容器进行资源隔离。

### 下载镜像

	sudo docker pull ubuntu
	
#### docker images

	REPOSITORY          TAG                 ID                  CREATED             SIZE
	ubuntu              12.04               8dbd9e392a96        6 months ago        131.5 MB (virtual 131.5 MB)
	ubuntu              latest              8dbd9e392a96        6 months ago        131.5 MB (virtual 131.5 MB)
	ubuntu              precise             8dbd9e392a96        6 months ago        131.5 MB (virtual 131.5 MB)
	ubuntu              12.10               b750fe79269d        7 months ago        24.65 kB (virtual 180.1 MB)
	ubuntu              quantal             b750fe79269d        7 months ago        24.65 kB (virtual 180.1 MB)

#### /var/lib/docker/repositories

	{
		"Repositories":{
			"ubuntu":{
				"12.04":"8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c",
				"12.10":"b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc",
				"latest":"8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c",
				"precise":"8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c",
				"quantal":"b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc"
			}
		}
	}
	
此文件中记录了下载的镜像信息。

#### /var/lib/docker/graph

	root@ubuntu:/var/lib/docker/graph# ls
	27cf784147099545
	8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c
	b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc
	_tmp
	
其中8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c、b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc两个目录对应respositories文件中的镜像信息，27cf784147099545在respositories文件中没有体现。

通过du -sh命令查看各个目录的容量，发现b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc只有40k，明显不是一个ubuntu镜像。8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c和27cf784147099545目录分别有142M和194M，这两个目录真正保存ubuntu12.04和12.10的镜像文件，即rootfs。

每个目录下都有一个json文件，内容分别如下：

27cf784147099545/json

	{"comment": "Imported from http://get.docker.io/images/base", "container_config": {"Tty": false, "Cmd": null, "MemorySwap": 0, "Image": "", "Hostname": "", "User": "", "Env": null, "Memory": 0, "Detach": false, "Ports": null, "OpenStdin": false}, "id": "27cf784147099545", "created": "2013-03-23T12:53:11.10432-07:00"}

8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c/json

	{"comment": "Imported from -", "created": "2013-04-11T14:13:15.57812-07:00", "container_config": {"Tty": false, "Cmd": null, "Env": null, "Image": "", "Hostname": "", "StdinOnce": false, "AttachStdin": false, "User": "", "PortSpecs": null, "Memory": 0, "MemorySwap": 0, "AttachStderr": false, "AttachStdout": false, "OpenStdin": false}, "docker_version": "0.1.4", "id": "8dbd9e392a964056420e5d58ca5cc376ef18e2de93b5cc90e868a1bbc8318c1c"}


b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc/json

	{"container": "3d67245a8d72ecf13f33dffac9f79dcdf70f75acb84d308770391510e0c23ad0", "parent": "27cf784147099545", "created": "2013-03-23T22:24:18.818426-07:00", "container_config": {"Tty": true, "Cmd": ["/bin/bash"], "Env": null, "Image": "base", "Hostname": "", "User": "", "MemorySwap": 0, "Memory": 0, "Detach": false, "Ports": null, "OpenStdin": true}, "id": "b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc"}

可以看出b750fe79269d2ec9a3c593ef05b4332b1d1a02a62b4accb2c21d589ff2f5f2dc与27cf784147099545是相关的。

### 启动容器

	sudo docker run -i -t ubuntu /bin/bash
	
	sudo docker run -i -t ubuntu:12.10 /bin/bash

#### 主机网络配置

执行ifconfig查看网络配置，可以看到增加了一个网络设备

	vethxlso0v Link encap:Ethernet  HWaddr fe:61:9f:a4:ba:a0
	          inet6 addr: fe80::fc61:9fff:fea4:baa0/64 Scope:Link
	          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
	          RX packets:6 errors:0 dropped:0 overruns:0 frame:0
	          TX packets:6 errors:0 dropped:0 overruns:0 carrier:0
	          collisions:0 txqueuelen:1000
	          RX bytes:468 (468.0 B)  TX bytes:468 (468.0 B)

执行brctl show查看网桥配置

	paas@localhost:/sys/fs/cgroup/memory/lxc$ brctl show
	bridge name	bridge id		STP enabled	interfaces
	docker0		8000.fe619fa4baa0	no		vethxlso0v
	lxcbr0		8000.000000000000	no
	
	
#### 主机进程

通过ps命令查看lxc相关进程

	105        983     1  0 Oct28 ?        00:00:00 dnsmasq -u lxc-dnsmasq --strict-order --bind-interfaces --pid-file=/var/run/lxc/dnsmasq.pid --conf-file= --listen-address 10.0.3.1 --dhcp-range 10.0.3.2,10.0.3.254 --dhcp-lease-max=253 --dhcp-no-override --except-interface=lo --interface=lxcbr0 --dhcp-leasefile=/var/lib/misc/dnsmasq.lxcbr0.leases --dhcp-authoritative
	root      2833   987  0 00:31 pts/1    00:00:00 lxc-start -n 622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5 -f /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/config.lxc -- /.dockerinit -g 172.17.42.1 -e TERM=xterm -e HOME=/ -e PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin -e container=lxc -e HOSTNAME=622019314776 -- /bin/bash

可以看到还是通过lxc-start程序启动了容器。

通过ps命令查看docker相关进程

	paas@localhost:~$ ps -ef | grep docker
	root       986     1  0 Oct28 ?        00:00:00 /bin/sh -e -c /usr/bin/docker -d /bin/sh
	root       987   986  0 Oct28 ?        00:00:01 /usr/bin/docker -d
	root      2825  1287  0 00:31 pts/0    00:00:00 sudo docker run -i -t ubuntu /bin/bash
	root      2826  2825  0 00:31 pts/0    00:00:00 docker run -i -t ubuntu /bin/bash
	root      2833   987  0 00:31 pts/1    00:00:00 lxc-start -n 622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5 -f /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/config.lxc -- /.dockerinit -g 172.17.42.1 -e TERM=xterm -e HOME=/ -e PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin -e container=lxc -e HOSTNAME=622019314776 -- /bin/bash


通过pstree命令查看docker进程（986）的进程树

	paas@localhost:~$ pstree -p 986
	sh(986)───docker(987)─┬─lxc-start(2833)───bash(2843)
	                      ├─{docker}(998)
	                      ├─{docker}(1000)
	                      ├─{docker}(1001)
	                      ├─{docker}(1002)
	                      ├─{docker}(1003)
	                      ├─{docker}(1401)
	                      └─{docker}(1442)

	可以看到是docker进程启动lxc-start进程。


#### lxc容器配置文件

docker通过配置文件来控制lxc创建容器。

	# hostname

	lxc.utsname = 622019314776

	#lxc.aa_profile = unconfined


	# network configuration
	lxc.network.type = veth
	lxc.network.flags = up
	lxc.network.link = docker0
	lxc.network.name = eth0
	lxc.network.mtu = 1500
	lxc.network.ipv4 = 172.17.0.6/16


	# root filesystem

	lxc.rootfs = /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs


	# enable domain name support
	lxc.mount.entry = /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/hostname /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/etc/hostname none bind,ro 0 0
	lxc.mount.entry = /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/hosts /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/etc/hosts none bind,ro 0 0


	# use a dedicated pts for the container (and limit the number of pseudo terminal
	# available)
	lxc.pts = 1024

	# disable the main console
	lxc.console = none

	# no controlling tty at all
	lxc.tty = 1


	# no implicit access to devices
	lxc.cgroup.devices.deny = a

	# /dev/null and zero
	lxc.cgroup.devices.allow = c 1:3 rwm
	lxc.cgroup.devices.allow = c 1:5 rwm

	# consoles
	lxc.cgroup.devices.allow = c 5:1 rwm
	lxc.cgroup.devices.allow = c 5:0 rwm
	lxc.cgroup.devices.allow = c 4:0 rwm
	lxc.cgroup.devices.allow = c 4:1 rwm

	# /dev/urandom,/dev/random
	lxc.cgroup.devices.allow = c 1:9 rwm
	lxc.cgroup.devices.allow = c 1:8 rwm

	# /dev/pts/* - pts namespaces are "coming soon"
	lxc.cgroup.devices.allow = c 136:* rwm
	lxc.cgroup.devices.allow = c 5:2 rwm

	# tuntap
	lxc.cgroup.devices.allow = c 10:200 rwm

	# fuse
	#lxc.cgroup.devices.allow = c 10:229 rwm

	# rtc
	#lxc.cgroup.devices.allow = c 254:0 rwm


	# standard mount point
	#  WARNING: procfs is a known attack vector and should probably be disabled
	#           if your userspace allows it. eg. see http://blog.zx2c4.com/749
	lxc.mount.entry = proc /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/proc proc nosuid,nodev,noexec 0 0
	#  WARNING: sysfs is a known attack vector and should probably be disabled
	#           if your userspace allows it. eg. see http://bit.ly/T9CkqJ
	lxc.mount.entry = sysfs /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/sys sysfs nosuid,nodev,noexec 0 0
	lxc.mount.entry = devpts /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/dev/pts devpts newinstance,ptmxmode=0666,nosuid,noexec 0 0
	#lxc.mount.entry = varrun /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/var/run tmpfs mode=755,size=4096k,nosuid,nodev,noexec 0 0
	#lxc.mount.entry = varlock /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/var/lock tmpfs size=1024k,nosuid,nodev,noexec 0 0
	lxc.mount.entry = shm /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/dev/shm tmpfs size=65536k,nosuid,nodev,noexec 0 0

	# Inject docker-init
	lxc.mount.entry = /usr/bin/docker /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/.dockerinit none bind,ro 0 0

	# In order to get a working DNS environment, mount bind (ro) the host's /etc/resolv.conf into the container
	lxc.mount.entry = /etc/resolv.conf /var/lib/docker/containers/622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5/rootfs/etc/resolv.conf none bind,ro 0 0

	# drop linux capabilities (apply mainly to the user root in the container)
	#  (Note: 'lxc.cap.keep' is coming soon and should replace this under the
	#         security principle 'deny all unless explicitly permitted', see
	#         http://sourceforge.net/mailarchive/message.php?msg_id=31054627 )
	lxc.cap.drop = audit_control audit_write mac_admin mac_override mknod setfcap setpcap sys_admin sys_boot sys_module sys_nice sys_pacct sys_rawio sys_resource sys_time sys_tty_config


	# limits
	

#### 主机cgroup

/sys/fs/cgroup/blkio、/sys/fs/cgroup/cpu、/sys/fs/cgroup/cpuacct、/sys/fs/cgroup/cpuset、/sys/fs/cgroup/devices、/sys/fs/cgroup/freezer、/sys/fs/cgroup/memory、/sys/fs/cgroup/memory目录的子目录lxc中都有一个622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5目录。

622019314776a09ff747b0c4ff5bcb7392bc0d469b0d2f2663d180f297d252e5目录的tasks文件内容：

	2843

即对lxc-start(2833)的子进程bash(2843)进行资源隔离。

其余cgroup配置为默认配置。

#### 容器中的网络配置

ip addr

	root@622019314776:/# ip addr
	1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN
	    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
	    inet 127.0.0.1/8 scope host lo
	    inet6 ::1/128 scope host
	       valid_lft forever preferred_lft forever
	13: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
	    link/ether 0e:dc:20:12:b5:e7 brd ff:ff:ff:ff:ff:ff
	    inet 172.17.0.6/16 brd 172.17.255.255 scope global eth0
	    inet6 fe80::cdc:20ff:fe12:b5e7/64 scope link
	       valid_lft forever preferred_lft forever
          
ip route

	root@622019314776:/# ip route
	default via 172.17.42.1 dev eth0
	172.17.0.0/16 dev eth0  proto kernel  scope link  src 172.17.0.6
		
hosts

	root@622019314776:/# cat /etc/hosts
	127.0.0.1	622019314776
	::1		622019314776

	127.0.0.1	localhost
	::1		localhost ip6-localhost ip6-loopback
	fe00::0		ip6-localnet
	ff00::0		ip6-mcastprefix
	ff02::1		ip6-allnodes
	ff02::2		ip6-allrouters
	
#### 容器中的进程

ps -ef

	root@622019314776:/# ps -ef
	UID        PID  PPID  C STIME TTY          TIME CMD
	root         1     0  0 07:31 ?        00:00:00 /bin/bash
	root        13     1  0 07:43 ?        00:00:00 ps -ef
	
	这里面的1号进程（/bin/bash）就是从容器外看到的进程bash(2843)。
	可以看到与普通lxc容器的区别是容器中没有sshd进程，不能象对待普通lxc容器一样通过scp命令向容器里面复制文件。

### docker容器使用

#### 启动应用

启动一个脚本，每隔一秒执行一次date命令。

	paas@localhost:~$ sudo docker run -d ubuntu /bin/sh -c "while true; do date; sleep 1; done"
	5bdf5fc96060

此命令返回一个容器的id号，后续可以通过这个id来操作容器

#### 查看容器

	paas@localhost:~$ sudo docker ps
	ID                  IMAGE               COMMAND                CREATED             STATUS              PORTS
	5bdf5fc96060        ubuntu:12.04        /bin/sh -c while tru   2 minutes ago       Up 2 minutes

#### 查看应用日志

docker logs 容器id

	paas@localhost:~$ sudo docker logs 5bdf5fc96060
	Tue Oct 29 10:51:19 UTC 2013
	Tue Oct 29 10:51:20 UTC 2013
	Tue Oct 29 10:51:21 UTC 2013
	Tue Oct 29 10:51:22 UTC 2013
	Tue Oct 29 10:51:23 UTC 2013
	Tue Oct 29 10:51:24 UTC 2013
	Tue Oct 29 10:51:25 UTC 2013
	Tue Oct 29 10:51:26 UTC 2013
	Tue Oct 29 10:51:27 UTC 2013
	Tue Oct 29 10:51:28 UTC 2013
	Tue Oct 29 10:51:29 UTC 2013
	Tue Oct 29 10:51:30 UTC 2013
	Tue Oct 29 10:51:31 UTC 2013
	...

显示应用启动以来的标准输出和标准错误输出。

#### 接入应用

docker attach 容器id

	paas@localhost:~$ sudo docker attach 5bdf5fc96060
	Tue Oct 29 10:57:25 UTC 2013
	Tue Oct 29 10:57:26 UTC 2013
	Tue Oct 29 10:57:27 UTC 2013
	Tue Oct 29 10:57:28 UTC 2013
	...


#### 停止应用

docker stop 容器id



未完待续...

[Linux中的namespaces]: http://lsword.github.io/2013/09/20.html
[sched-bwc]: https://www.kernel.org/doc/Documentation/scheduler/sched-bwc.txt
[sched-rt-group]: https://www.kernel.org/doc/Documentation/scheduler/sched-rt-group.txt